### 어텐션 메커니즘
- `RNN`에 기반한 `seq2seq` 모델에는 문제점
  - 하나의 고정된 크기의 벡터에 모든 정보를 압축하려고 하기 때문에 정보 손실이 발생
  - 기울기 손실 문제
- 두 가지의 문제를 보완하기 위해 등장한 기법 어텐션 기법
- 디코더에서 출력 단어를 예측하는 매 시점 마다, 인코더에서의 전체 입력 문장을 한 번 참고 한다는 라는 아이디어
- 전체 비율을 참고하는게 아닌 예측해야할 단어와 연관이 있는 입력 단어 부분을 좀 더 집중 하는 것

#### 어텐션 함수
- `Attention(Q, K, V) = Attention Value`
  - `Q` = `Query` : `t` 시점의 디코더 셀에서의 은닉 상태
  - `K` = `Keys` : 모든 시점의 인코더 셀의 은닉 상태들
  - `V` = `Values` : 모든 시점의 인코더 셀의 은닉 상태들
- 쿼리에 대해서 키와의 유사도를 구함
- 이 유사도를 키와 맵핑되어 각각의 값에 반영
- 유사도가 반영된 값을 모두 더해 리턴

#### 닷-프로덕트 어텐션(Dot-Product Attention)
- 어텐션 스코어를 구함
- 소프트맥스를 함수를 통해 어텐션 분포를 구함
- 각 인코더의 어텐션 가중치와 은닉 상태를 가중합하여 어텐션 값을 구한다.
- 어텐션 값과 디코더의 시점의 은닉 상태를 연결
- 출력층 연산의 입력이 되는 `S`를 계산
- `S`를 출력층의 입력으로 사용

#### 바다나우 어텐션 함수
- 닷 프로덕트 어텐션 보다 복잡한 설계
- `Attention(Q, K, V) = Attention Value`
  - `t` = 어텐션 메커니즘이 수행되는 디코더 셀의 현재 시점
  - `Q` = `Query` : `t-1` 시점의 디코더 셀에서의 은닉 상태
  - `K` = `Keys` : 모든 시점의 인코더 셀의 은닉 상태들
  - `V` = `Values` : 모든 시점의 인코더 셀의 은닉 상태들
1. 어텐션 스코어 구하기
2. 소프트맥스 함수를 통해 어텐션 분포 구하기
3. 각 인코더의 어텐션 가중치와 은닉 상태를 가중합하여 어텐션 값을 구한다.
4. 컨텍스트 벡터로부터 `S`를 구한다.